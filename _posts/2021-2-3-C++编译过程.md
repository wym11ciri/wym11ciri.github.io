---
layout: post
title:  "C++程序的编译运行过程"
date:   2021-2-2 14:05:21 +0800
tags: c++
color: rgb(255,90,90)
cover: '../assets/test.png'
---

### 预编译-》汇编-》编译-》链接

预编译主要展开包括的头文件，宏定义等操作。比如define的文本替换。

汇编过程，就是把已经预编译的文件编译成汇编代码的过程。整个过程会包括语法，词法的分析，和一些优化操作。汇编过程就是把汇编语言翻译成目标机器指令的过程，生成目标文件（.obj .o等）。目标文件中存放的也就是与源程序等效的目标的机器语言代码。代码段，数据段。

编译过程事实上是跟汇编能够合成一个阶段，变成目标代码。也就是二进制文件。

链接过程是将单个编译后的文件链接成一个可运行程序。前面的预编译、汇编、编译都是针对单个文件，以一个文件为一个编译单元，而链接则是将全部关联到的编译后单元文件和用到的库文件，进行链接处理，之前编译过的文件，假设使用到其它文件中定义到的函数，全局变量，在这个过程中都会进行解析。链接过程将.o文件转为.exe文件。

预编译处理(.c) －> 编译、优化程序（.s）－>汇编程序(.obj、.o、.a、.ko) －> 链接程序（.exe、.elf、.axf等）